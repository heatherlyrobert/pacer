#!/usr/local/bin/koios
#   koios-polos (north star) -- customized c unit testing meta-program and mini-language
#   program under test  : gregg_2raw
#   auto-generated script file converted from a previous script version



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  t  ========(var)======= 
PREP          include the prototype headers                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
   incl       include public header                pacer.h                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  t  ========(var)======= 
SCRP          (FILE) verify openning and closing configuration file              FILE__open, FILE__close                                                                               ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       initialize the testing environment                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     start testing                        PROG__unit_quiet                                                                                                                  i_equal     0                                                                                                    
     code     change the config file               - - - - - - - - - - - - -   strlcpy (my.conf, "/tmp/pacer.conf"                        , LEN_HUND);                                                                                                                      
     code     clear config file                    - - - - - - - - - - - - -   system ("rm -f /tmp/pacer.conf");                                                                                                                                                                    

   COND       attempt to read non-existant file                                  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call open                            FILE__open                                                                                                                        i_lesser    0                                                                                                    

   COND       attempt to close an un-openned file                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call close                           FILE__close                                                                                                                       i_lesser    0                                                                                                    

   COND       verify openning file                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     create empty file                    - - - - - - - - - - - - -   system ("touch /tmp/pacer.conf");                                                                                                                                                                    
     exec     call open                            FILE__open                                                                                                                        i_equal     0                                                                                                    

   COND       attempt to re-open file                                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call open                            FILE__open                                                                                                                        i_lesser    0                                                                                                    

   COND       verify closing the file                                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call close                           FILE__close                                                                                                                       i_equal     0                                                                                                    

   COND       attempt to close already closed file                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call close                           FILE__close                                                                                                                       i_lesser    0                                                                                                    

   COND       complete testing                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     clear config file                    - - - - - - - - - - - - -   system ("rm -f /tmp/pacer.conf");                                                                                                                                                                    
     exec     stop testing                         PROG__unit_end                                                                                                                    i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  t  ========(var)======= 
SCRP          (FILE) verify reading lines from configuration file                FILE__read                                                                                            ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       initialize the testing environment                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     start testing                        PROG__unit_quiet                                                                                                                  i_equal     0                                                                                                    
     code     change the config file               - - - - - - - - - - - - -   strlcpy (my.conf, "/tmp/pacer.conf"                        , LEN_HUND);                                                                                                                      
     code     clear config file                    - - - - - - - - - - - - -   system ("rm -f /tmp/pacer.conf");                                                                                                                                                                    

   COND       attempt to read an empty file                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     create empty file                    - - - - - - - - - - - - -   system ("touch /tmp/pacer.conf");                                                                                                                                                                    
     exec     call open                            FILE__open                                                                                                                        i_equal     0                                                                                                    
     exec     call read                            FILE__read                                                                                                                        i_lesser    0                                                                                                    
     exec     call close                           FILE__close                                                                                                                       i_equal     0                                                                                                    

   COND       verify read of a header line                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     add header                           - - - - - - - - - - - - -   system ("echo ¶nice       § description          § ¦¶                                                                                                            > /tmp/pacer.conf");                                      
     exec     call open                            FILE__open                                                                                                                        i_equal     0                                                                                                    
     exec     call read                            FILE__read                                                                                                                        i_equal     'h'                                                                                                  
     exec     call close                           FILE__close                                                                                                                       i_equal     0                                                                                                    

   COND       verify read of a detail line                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     add detail                           - - - - - - - - - - - - -   system ("echo ¶   step    § description          § ¦¶                                                                                                            > /tmp/pacer.conf");                                      
     exec     call open                            FILE__open                                                                                                                        i_equal     0                                                                                                    
     exec     call read                            FILE__read                                                                                                                        i_equal     'd'                                                                                                  
     exec     call close                           FILE__close                                                                                                                       i_equal     0                                                                                                    

   COND       attempt reading a blank file                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     add blank                            - - - - - - - - - - - - -   system ("echo ¶¦¶                                                                                                                                                > /tmp/pacer.conf");                                      
     exec     call open                            FILE__open                                                                                                                        i_equal     0                                                                                                    
     exec     call read                            FILE__read                                                                                                                        i_lesser    0                                                                                                    
     exec     call close                           FILE__close                                                                                                                       i_equal     0                                                                                                    

   COND       verify read of mixed lines                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     add blank                            - - - - - - - - - - - - -   system ("echo ¶¦¶                                                                                                                                                > /tmp/pacer.conf");                                      
     code     add blank                            - - - - - - - - - - - - -   system ("echo ¶¦¶                                                                                                                                               >> /tmp/pacer.conf");                                      
     code     add header                           - - - - - - - - - - - - -   system ("echo ¶nice       § description          § ¦¶                                                                                                           >> /tmp/pacer.conf");                                      
     code     add header                           - - - - - - - - - - - - -   system ("echo ¶   step    § description          § ¦¶                                                                                                           >> /tmp/pacer.conf");                                      
     code     add blank                            - - - - - - - - - - - - -   system ("echo ¶¦¶                                                                                                                                               >> /tmp/pacer.conf");                                      
     code     add detail                           - - - - - - - - - - - - -   system ("echo ¶   step    § description          § ¦¶                                                                                                           >> /tmp/pacer.conf");                                      
     code     add blank                            - - - - - - - - - - - - -   system ("echo ¶¦¶                                                                                                                                               >> /tmp/pacer.conf");                                      
     exec     call open                            FILE__open                                                                                                                        i_equal     0                                                                                                    
     exec     call read                            FILE__read                                                                                                                        i_equal     'h'                                                                                                  
     exec     call read                            FILE__read                                                                                                                        i_equal     'd'                                                                                                  
     exec     call read                            FILE__read                                                                                                                        i_equal     'd'                                                                                                  
     exec     call read                            FILE__read                                                                                                                        i_lesser    0                                                                                                    
     exec     call close                           FILE__close                                                                                                                       i_equal     0                                                                                                    

   COND       complete testing                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     clear config file                    - - - - - - - - - - - - -   system ("rm -f /tmp/pacer.conf");                                                                                                                                                                    
     exec     stop testing                         PROG__unit_end                                                                                                                    i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  t  ========(var)======= 
SCRP          (FILE) verify parsing headers                                      FILE__header                                                                                          ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       initialize the testing environment                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     start testing                        PROG__unit_quiet                                                                                                                  i_equal     0                                                                                                    
     local    create working variables             - - - - - - - - - - - - -   char  x_title [LEN_LABEL] = "";                                                                                                                                                              
     local    create working variables             - - - - - - - - - - - - -   char  x_desc  [LEN_HUND]  = "";                                                                                                                                                              
     local    create working variables             - - - - - - - - - - - - -   int   x_chime = 0;                                                                                                                                                                           
     code     change the config file               - - - - - - - - - - - - -   strlcpy (my.conf, "/tmp/pacer.conf"                        , LEN_HUND);                                                                                                                      
     code     clear config file                    - - - - - - - - - - - - -   system ("rm -f /tmp/pacer.conf");                                                                                                                                                                    
     code     create empty file                    - - - - - - - - - - - - -   system ("touch /tmp/pacer.conf");                                                                                                                                                                    

   COND       attempt before file open                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call header                          FILE__header                "nice   §   1 § description            §"                               , x_title, &x_chime, x_desc   i_lesser    0                                                                                                    
     echo     ... review title                     - - - - - - - - - - - - -   x_title                                                                                               s_equal                                                                                                          
     echo     ... review chime                     - - - - - - - - - - - - -   x_chime                                                                                               i_equal     0                                                                                                    
     echo     ... review desc                      - - - - - - - - - - - - -   x_desc                                                                                                s_equal                                                                                                          

   COND       open file                                                          - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call open                            FILE__open                                                                                                                        i_equal     0                                                                                                    

   COND       verify parsing simple line                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call header                          FILE__header                "nice   §   1 § description            §"                               , x_title, &x_chime, x_desc   i_equal     0                                                                                                    
     echo     ... review title                     - - - - - - - - - - - - -   x_title                                                                                               s_equal     nice                                                                                                 
     echo     ... review chime                     - - - - - - - - - - - - -   x_chime                                                                                               i_equal     1                                                                                                    
     echo     ... review desc                      - - - - - - - - - - - - -   x_desc                                                                                                s_equal     description                                                                                          

   COND       attempt to parse a null                                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call header                          FILE__header                NULL                                                                    , x_title, &x_chime, x_desc   i_lesser    0                                                                                                    
     echo     ... review title                     - - - - - - - - - - - - -   x_title                                                                                               s_equal                                                                                                          
     echo     ... review chime                     - - - - - - - - - - - - -   x_chime                                                                                               i_equal     0                                                                                                    
     echo     ... review desc                      - - - - - - - - - - - - -   x_desc                                                                                                s_equal                                                                                                          

   COND       verify parsing just a title                                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call header                          FILE__header                "another"                                                               , x_title, &x_chime, x_desc   i_equal     0                                                                                                    
     echo     ... review title                     - - - - - - - - - - - - -   x_title                                                                                               s_equal     another                                                                                              
     echo     ... review chime                     - - - - - - - - - - - - -   x_chime                                                                                               i_equal     0                                                                                                    
     echo     ... review desc                      - - - - - - - - - - - - -   x_desc                                                                                                s_equal                                                                                                          

   COND       attempt a super short title                                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call header                          FILE__header                "an"                                                                    , x_title, &x_chime, x_desc   i_lesser    0                                                                                                    
     echo     ... review title                     - - - - - - - - - - - - -   x_title                                                                                               s_equal                                                                                                          
     echo     ... review chime                     - - - - - - - - - - - - -   x_chime                                                                                               i_equal     0                                                                                                    
     echo     ... review desc                      - - - - - - - - - - - - -   x_desc                                                                                                s_equal                                                                                                          

   COND       verify parsing a different line                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call header                          FILE__header                "standing §  5s § zhan zhuang"                                          , x_title, &x_chime, x_desc   i_equal     0                                                                                                    
     echo     ... review title                     - - - - - - - - - - - - -   x_title                                                                                               s_equal     standing                                                                                             
     echo     ... review chime                     - - - - - - - - - - - - -   x_chime                                                                                               i_equal     5                                                                                                    
     echo     ... review desc                      - - - - - - - - - - - - -   x_desc                                                                                                s_equal     zhan zhuang                                                                                          

   COND       attempt title with a space                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call header                          FILE__header                "one two §   3s § testing"                                              , x_title, &x_chime, x_desc   i_lesser    0                                                                                                    
     echo     ... review title                     - - - - - - - - - - - - -   x_title                                                                                               s_equal                                                                                                          
     echo     ... review chime                     - - - - - - - - - - - - -   x_chime                                                                                               i_equal     0                                                                                                    
     echo     ... review desc                      - - - - - - - - - - - - -   x_desc                                                                                                s_equal                                                                                                          

   COND       attempt title with other stuff                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call header                          FILE__header                "one$two §   2s §  testing"                                             , x_title, &x_chime, x_desc   i_lesser    0                                                                                                    
     exec     call header                          FILE__header                "a/goood §   2s §  testing"                                             , x_title, &x_chime, x_desc   i_lesser    0                                                                                                    
     exec     call header                          FILE__header                "q(two)  §   2s §  testing"                                             , x_title, &x_chime, x_desc   i_lesser    0                                                                                                    
     exec     call header                          FILE__header                "22      §   2s §  testing"                                             , x_title, &x_chime, x_desc   i_lesser    0                                                                                                    
     echo     ... review title                     - - - - - - - - - - - - -   x_title                                                                                               s_equal                                                                                                          
     echo     ... review chime                     - - - - - - - - - - - - -   x_chime                                                                                               i_equal     0                                                                                                    
     echo     ... review desc                      - - - - - - - - - - - - -   x_desc                                                                                                s_equal                                                                                                          

   COND       verify using numbers                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call header                          FILE__header                "2test   §   2s §  testing"                                             , x_title, &x_chime, x_desc   i_equal     0                                                                                                    
     echo     ... review title                     - - - - - - - - - - - - -   x_title                                                                                               s_equal     2test                                                                                                
     echo     ... review chime                     - - - - - - - - - - - - -   x_chime                                                                                               i_equal     2                                                                                                    
     echo     ... review desc                      - - - - - - - - - - - - -   x_desc                                                                                                s_equal     testing                                                                                              

   COND       complete testing                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call close                           FILE__close                                                                                                                       i_equal     0                                                                                                    
     code     clear config file                    - - - - - - - - - - - - -   system ("rm -f /tmp/pacer.conf");                                                                                                                                                                    
     exec     stop testing                         PROG__unit_end                                                                                                                    i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  t  ========(var)======= 
SCRP          (FILE) verify parsing details                                      FILE__detail                                                                                          ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       initialize the testing environment                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     start testing                        PROG__unit_quiet                                                                                                                  i_equal     0                                                                                                    
     local    create working variables             - - - - - - - - - - - - -   int   x_dur      = 0;                                                                                                                                                                        
     local    create working variables             - - - - - - - - - - - - -   char  x_terse [LEN_TERSE] = "";                                                                                                                                                              
     local    create working variables             - - - - - - - - - - - - -   char  x_desc  [LEN_DESC]  = "";                                                                                                                                                              
     code     change the config file               - - - - - - - - - - - - -   strlcpy (my.conf, "/tmp/pacer.conf"                        , LEN_HUND);                                                                                                                      
     code     clear config file                    - - - - - - - - - - - - -   system ("rm -f /tmp/pacer.conf");                                                                                                                                                                    
     code     create empty file                    - - - - - - - - - - - - -   system ("touch /tmp/pacer.conf");                                                                                                                                                                    

   COND       attempt before file open                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call detail                          FILE__detail                NULL                                                                      , &x_dur, x_terse, x_desc   i_lesser    0                                                                                                    
     echo     ... review duration                  - - - - - - - - - - - - -   x_dur                                                                                                 i_equal     0                                                                                                    
     echo     ... review title                     - - - - - - - - - - - - -   x_terse                                                                                               s_equal                                                                                                          
     echo     ... review desc                      - - - - - - - - - - - - -   x_desc                                                                                                s_equal                                                                                                          

   COND       open file                                                          - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call open                            FILE__open                                                                                                                        i_equal     0                                                                                                    

   COND       verify parsing simple line                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call detail                          FILE__detail                "     1 § test § description        §"                                    , &x_dur, x_terse, x_desc   i_equal     0                                                                                                    
     echo     ... review duration                  - - - - - - - - - - - - -   x_dur                                                                                                 i_equal     1                                                                                                    
     echo     ... review title                     - - - - - - - - - - - - -   x_terse                                                                                               s_equal     test                                                                                                 
     echo     ... review desc                      - - - - - - - - - - - - -   x_desc                                                                                                s_equal     description                                                                                          

   COND       attempt a null line                                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call detail                          FILE__detail                NULL                                                                      , &x_dur, x_terse, x_desc   i_lesser    0                                                                                                    
     echo     ... review duration                  - - - - - - - - - - - - -   x_dur                                                                                                 i_equal     0                                                                                                    
     echo     ... review title                     - - - - - - - - - - - - -   x_terse                                                                                               s_equal                                                                                                          
     echo     ... review desc                      - - - - - - - - - - - - -   x_desc                                                                                                s_equal                                                                                                          

   COND       verify with interesting durations                                  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call detail                          FILE__detail                "    5s § test § description        §"                                    , &x_dur, x_terse, x_desc   i_equal     0                                                                                                    
     echo     ... review duration                  - - - - - - - - - - - - -   x_dur                                                                                                 i_equal     5                                                                                                    
     exec     call detail                          FILE__detail                "    3m § test § description        §"                                    , &x_dur, x_terse, x_desc   i_equal     0                                                                                                    
     echo     ... review duration                  - - - - - - - - - - - - -   x_dur                                                                                                 i_equal     180                                                                                                  
     exec     call detail                          FILE__detail                "  0.5m § test § description        §"                                    , &x_dur, x_terse, x_desc   i_equal     0                                                                                                    
     echo     ... review duration                  - - - - - - - - - - - - -   x_dur                                                                                                 i_equal     30                                                                                                   
     exec     call detail                          FILE__detail                "    1h § test § description        §"                                    , &x_dur, x_terse, x_desc   i_equal     0                                                                                                    
     echo     ... review duration                  - - - - - - - - - - - - -   x_dur                                                                                                 i_equal     3600                                                                                                 

   COND       attempt with bad durations                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call detail                          FILE__detail                "    4x § dest § description        §"                                    , &x_dur, x_terse, x_desc   i_lesser    0                                                                                                    
     echo     ... review duration                  - - - - - - - - - - - - -   x_dur                                                                                                 i_equal     0                                                                                                    
     echo     ... review title                     - - - - - - - - - - - - -   x_terse                                                                                               s_equal                                                                                                          
     echo     ... review desc                      - - - - - - - - - - - - -   x_desc                                                                                                s_equal                                                                                                          
     exec     call detail                          FILE__detail                "     ? § dest § description        §"                                    , &x_dur, x_terse, x_desc   i_lesser    0                                                                                                    
     exec     call detail                          FILE__detail                "    hi § dest § description        §"                                    , &x_dur, x_terse, x_desc   i_lesser    0                                                                                                    

   COND       attempt with bad terses                                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call detail                          FILE__detail                "     1 § hi?    § description        §"                                    , &x_dur, x_terse, x_desc   i_lesser    0                                                                                                    
     echo     ... review duration                  - - - - - - - - - - - - -   x_dur                                                                                                 i_equal     0                                                                                                    
     echo     ... review title                     - - - - - - - - - - - - -   x_terse                                                                                               s_equal                                                                                                          
     echo     ... review desc                      - - - - - - - - - - - - -   x_desc                                                                                                s_equal                                                                                                          
     exec     call detail                          FILE__detail                "     1 § two i  § description        §"                                    , &x_dur, x_terse, x_desc   i_lesser    0                                                                                                    
     exec     call detail                          FILE__detail                "     1 § (be)   § description        §"                                    , &x_dur, x_terse, x_desc   i_lesser    0                                                                                                    
     exec     call detail                          FILE__detail                "     1 § 5      § description        §"                                    , &x_dur, x_terse, x_desc   i_lesser    0                                                                                                    

   COND       verify with numbers                                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call detail                          FILE__detail                "     1 § n1ce   § description        §"                                    , &x_dur, x_terse, x_desc   i_equal     0                                                                                                    

   COND       complete testing                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call close                           FILE__close                                                                                                                       i_equal     0                                                                                                    
     code     clear config file                    - - - - - - - - - - - - -   system ("rm -f /tmp/pacer.conf");                                                                                                                                                                    
     exec     stop testing                         PROG__unit_end                                                                                                                    i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  t  ========(var)======= 
SCRP          (FILE) verify parsing details                                      FILE__detail                                                                                          ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       initialize the testing environment                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     start testing                        PROG__unit_quiet                                                                                                                  i_equal     0                                                                                                    
     code     change the config file               - - - - - - - - - - - - -   strlcpy (my.conf, "/tmp/pacer.conf"                        , LEN_HUND);                                                                                                                      
     code     clear config file                    - - - - - - - - - - - - -   system ("rm -f /tmp/pacer.conf");                                                                                                                                                                    

   COND       attempt to find target in non-existant file                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call import                          FILE_import                 "myself"                                                                                              i_lesser    0                                                                                                    

   COND       attempt to find target in empty file                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     create empty file                    - - - - - - - - - - - - -   system ("touch /tmp/pacer.conf");                                                                                                                                                                    
     exec     call import                          FILE_import                 "myself"                                                                                              i_lesser    0                                                                                                    

   COND       create file with several headers                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     add blank                            - - - - - - - - - - - - -   system ("echo ¶¦¶                                                                                                                                                > /tmp/pacer.conf");                                      
     code     add blank                            - - - - - - - - - - - - -   system ("echo ¶¦¶                                                                                                                                               >> /tmp/pacer.conf");                                      
     code     add header                           - - - - - - - - - - - - -   system ("echo ¶goodness   §  1 § description          § ¦¶                                                                                                           >> /tmp/pacer.conf");                                      
     code     add detail                           - - - - - - - - - - - - -   system ("echo ¶  2s § two     § description          § ¦¶                                                                                                           >> /tmp/pacer.conf");                                      
     code     add header                           - - - - - - - - - - - - -   system ("echo ¶myself     §  5 §  description          § ¦¶                                                                                                           >> /tmp/pacer.conf");                                      
     code     add header                           - - - - - - - - - - - - -   system ("echo ¶   x § three   § description          § ¦¶                                                                                                           >> /tmp/pacer.conf");                                      
     code     add header                           - - - - - - - - - - - - -   system ("echo ¶   1 § tons    § description          § ¦¶                                                                                                           >> /tmp/pacer.conf");                                      
     code     add header                           - - - - - - - - - - - - -   system ("echo ¶clubby     § 2m § description          § ¦¶                                                                                                           >> /tmp/pacer.conf");                                      
     code     add header                           - - - - - - - - - - - - -   system ("echo ¶ 10m § nine    § description          § ¦¶                                                                                                           >> /tmp/pacer.conf");                                      
     code     add header                           - - - - - - - - - - - - -   system ("echo ¶fun        §  0 § description          § ¦¶                                                                                                           >> /tmp/pacer.conf");                                      
     code     add header                           - - - - - - - - - - - - -   system ("echo ¶happy      §  0 § description          § ¦¶                                                                                                           >> /tmp/pacer.conf");                                      
     code     add header                           - - - - - - - - - - - - -   system ("echo ¶  5s § four    § description          § ¦¶                                                                                                           >> /tmp/pacer.conf");                                      
     code     add detail                           - - - - - - - - - - - - -   system ("echo ¶  1m § five    § description          § ¦¶                                                                                                           >> /tmp/pacer.conf");                                      
     code     add blank                            - - - - - - - - - - - - -   system ("echo ¶¦¶                                                                                                                                               >> /tmp/pacer.conf");                                      

   COND       verify finding a real target                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call import                          FILE_import                 "happy"                                                                                               i_equal     0                                                                                                    
     get      ... header                           PROG__unit                  "header"               , 0                                                                            s_equal     PROG header      :  2  5åhappyæ        11ådescriptionæ                      65  21.02        
     get      ... header                           PROG__unit                  "detail"               , 0                                                                            s_equal     PROG detail ( 0) :  1  4åfouræ         11ådescriptionæ                       5                 
     get      ... header                           PROG__unit                  "detail"               , 1                                                                            s_equal     PROG detail ( 1) :  2  4åfiveæ         11ådescriptionæ                      60                 

   COND       attempt to find null/empty/short targets                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call import                          FILE_import                 NULL                                                                                                  i_lesser    0                                                                                                    
     exec     call import                          FILE_import                 ""                                                                                                    i_lesser    0                                                                                                    
     exec     call import                          FILE_import                 "ab"                                                                                                  i_lesser    0                                                                                                    

   COND       attempt a non-existant target                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call import                          FILE_import                 "toejam"                                                                                              i_lesser    0                                                                                                    
     get      ... header                           PROG__unit                  "header"               , 0                                                                            s_equal     PROG header      :  ·  ·                ·                                    ·               
     get      ... header                           PROG__unit                  "detail"               , 0                                                                            s_equal     PROG detail ( 0) :  ·  ·                ·                                    ·                 
     get      ... header                           PROG__unit                  "detail"               , 1                                                                            s_equal     PROG detail ( 1) :  ·  ·                ·                                    ·                 

   COND       verify another real target                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call import                          FILE_import                 "goodness"                                                                                            i_equal     0                                                                                                    
     get      ... header                           PROG__unit                  "header"               , 0                                                                            s_equal     PROG header      :  1  8ågoodnessæ     11ådescriptionæ                       2 683.00       
     get      ... header                           PROG__unit                  "detail"               , 0                                                                            s_equal     PROG detail ( 0) :  1  3åtwoæ          11ådescriptionæ                       2                 

   COND       attempt good header with corrupt detail                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call import                          FILE_import                 "myself"                                                                                              i_lesser    0                                                                                                    
     get      ... header                           PROG__unit                  "header"               , 0                                                                            s_equal     PROG header      :  ·  ·                ·                                    ·               
     get      ... header                           PROG__unit                  "detail"               , 0                                                                            s_equal     PROG detail ( 0) :  ·  ·                ·                                    ·                 
     get      ... header                           PROG__unit                  "detail"               , 1                                                                            s_equal     PROG detail ( 1) :  ·  ·                ·                                    ·                 

   COND       attempt good header with no detail                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call import                          FILE_import                 "fun"                                                                                                 i_lesser    0                                                                                                    
     get      ... header                           PROG__unit                  "header"               , 0                                                                            s_equal     PROG header      :  ·  ·                ·                                    ·               
     get      ... header                           PROG__unit                  "detail"               , 0                                                                            s_equal     PROG detail ( 0) :  ·  ·                ·                                    ·                 
     get      ... header                           PROG__unit                  "detail"               , 1                                                                            s_equal     PROG detail ( 1) :  ·  ·                ·                                    ·                 

   COND       verify another real target                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call import                          FILE_import                 "clubby"                                                                                              i_equal     0                                                                                                    
     get      ... header                           PROG__unit                  "header"               , 0                                                                            s_equal     PROG header      :  1  6åclubbyæ       11ådescriptionæ                     600   2.28        
     get      ... header                           PROG__unit                  "detail"               , 0                                                                            s_equal     PROG detail ( 0) :  1  4ånineæ         11ådescriptionæ                     600                 

   COND       complete testing                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     clear config file                    - - - - - - - - - - - - -   system ("rm -f /tmp/pacer.conf");                                                                                                                                                                    
     exec     stop testing                         PROG__unit_end                                                                                                                    i_equal     0                                                                                                    



